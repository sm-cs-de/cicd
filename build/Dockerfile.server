FROM python:3.13.7-slim
WORKDIR /app
ENV PYTHONPATH=/app

COPY build/requirements.txt.server requirements.txt
RUN pip install --no-cache-dir -r requirements.txt

COPY pytest.ini .
COPY src/*.py src/
COPY src/server/ src/server/
COPY tests/test_server.py tests/

CMD ["python", "-m", "src.server.server"]

